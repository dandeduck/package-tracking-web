{%extends 'base.html' %}

{% block main_block %}
    <div class="creation">
        <form method="post" name="create" action="./?p={{partner.name}}&package={{package.id}}" id="create"> {% csrf_token %}
            <div class="creation--left">
                <label>origin</label>
                <input type="text" placeholder="Street" name="origin_street" value="{{package.origin.street_name}}"/>
                <input type="number" placeholder="House Number" name="origin_street_number" value="{{package.origin.street_number}}"/>
                <input type="text" placeholder="City" name="origin_city" list="cities" value="{{package.origin.city.name}}"/>
                <select name="origin_area" class="area__select sla1" form="create">
                    {%for db, human in cities.0.AREA_CHOICES%}
                        {%if db == package.origin.city.area%}
                            <option>{{human}}</option>
                        {%endif%}
                    {%endfor%}
                    {%for db, human in cities.0.AREA_CHOICES%}
                        {%if db != package.origin.city.area%}
                            <option>{{human}}</option>
                        {%endif%}
                    {%endfor%}
                </select>
            </div>
            <div class="creation--center">
                <label>destination</label>
                <input type="text" placeholder="Street" name="destination_street" value="{{package.destination.street_name}}" list="streets"/>
                <input type="number" placeholder="House Number" name="destination_street_number" value="{{package.destination.street_number}}"/>
                <input type="text" placeholder="City" name="destination_city" list="cities" value="{{package.destination.city.name}}"/>
                <select name="destination_area" class="area__select sla2" form="create">
                    {%for db, human in cities.0.AREA_CHOICES%}
                        {%if db == package.destination.city.area%}
                            <option>{{human}}</option>
                        {%endif%}
                    {%endfor%}
                    {%for db, human in cities.0.AREA_CHOICES%}
                        {%if db != package.destination.city.area%}
                            <option>{{human}}</option>
                        {%endif%}
                    {%endfor%}
                </select>
            </div>
            <div class="creation--right">
                <label for="rates">Package price</label>
                <select name="rate" class="rate__select slr" form="create" id="rates">
                    {%for rate in rates%}
                        {%if rate|floatformat == package.rate|floatformat%}
                            <option>{{rate|floatformat}}</option>
                        {%endif%}
                    {%endfor%}
                    {%for rate in rates%}
                        {%if rate|floatformat != package.rate|floatformat%}
                            <option>{{rate|floatformat}}</option>
                        {%endif%}
                    {%endfor%}
                </select>
                <input type="text" placeholder="Full name" name="full_name" value="{{package.consumer.full_name}}" list="names"/>
                <input type="tel" placeholder="Cell number" name="phone_number" value="{{package.consumer.phone_number}}"/>
            </div>
            <div class="creation--bottom">
                <input type="submit" value="save" />
            </div>
        </form>
        <div class="creation--bottom">
            <button onclick="location.href = '/partners/{{partner}}/{{package.order.id}}/';">cancel</button>
        </div>
    </div>
    <div class="notes--bottom">
        <form method="post" >

        </form>
    </div>
    <datalist id="cities">
        {%include "packages/parts/list_options.html" with list=cities%}
    </datalist>
    <datalist id="streets">
        {%include "packages/parts/list_options.html" with list=streets%}
    </datalist>
    <datalist id="names">
        {%include "packages/parts/list_options.html" with list=names%}
    </datalist>
{% endblock %}
